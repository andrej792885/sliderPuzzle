this.system=this.system||{},function(){"use strict";const a=function(a){this.Container_constructor(),this.init(a)},b=createjs.extend(a,createjs.Container);b.rows=0,b.columns=0,b.fieldWidth=0,b.fieldHeight=0,b.fieldSpacing=0,b.selectedField=null,b.animationsCounter=0,b.mainImage="",b.game=null,b.init=function(a){this.game=a,this.addEventListener("click",a=>{this.onChoose(a)})},b.setBoard=function(a){this.rows=a.rows,this.columns=a.columns,this.fieldWidth=a.fieldWidth,this.fieldHeight=a.fieldHeight,this.mainImage=a.mainImage,this.generateFields(),this.rearrangeFields(),this.enableMouse(!0)},b.checkBoard=function(){const a=this.numChildren;let b=0;for(let c=0;c<a&&this.getChildAt(c).checkPos();c++)b++;a===b?(this.enableMouse(!1),this.game.levelSolved(),this.removeFieldFrames()):this.enableMouse(!0)},b.removeFieldFrames=function(){const a=this.numChildren;for(let b=0;b<a;b++)this.getChildAt(b).removeFrame()},b.showHideFrames=function(){const a=this.numChildren;for(let b=0;b<a;b++)this.getChildAt(b).showHideFrame()},b.removeFields=function(){const a=this.numChildren-1;for(let b=a;-1<b;b--)this.getChildAt(b).removeField()},b.solvePuzzle=function(){const a=this.numChildren;this.game.framesBtn.enableClick(!1),this.game.solveBtn.enableClick(!1);for(let b=0;b<a;b++){const a=this.getChildAt(b);this.doSolveAnimation(a)}},b.getBoardWidth=function(){return this.columns*this.fieldWidth+this.columns*this.fieldSpacing},b.getBoardHeight=function(){return this.rows*this.fieldHeight+this.columns*this.fieldSpacing},b.enableMouse=function(a){this.mouseEnabled=a},system.AbstractPuzzleBoard=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this.init()},b=createjs.extend(a,createjs.Container);b.init=function(){},b.removeFrame=function(){const a=this.getChildAt(1);createjs.Tween.get(a).to({alpha:0},500).call(()=>{this.removeChild(a)})},b.showHideFrame=function(){const a=this.getChildAt(1);a.visible=!a.visible},b.removeField=function(){this.removeAllChildren(),this.parent.removeChild(this)},system.AbstractPuzzleField=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(a,b,c){this.Container_constructor(),this.init(a,b,c)},b=createjs.extend(a,createjs.Container);b.mainGame=null,b.gameName=null,b.numberOfLevels=0,b.board=null,b.level=0,b.levelsOptions=null,b.levelsBtns=null,b.framesBtn=null,b.backBtn=null,b.solveBtn=null,b.solvedSticker=null,b.solvedImage=null,b.showImageBtn=null,b._puzzleIsLoaded=!1,b._hasBoardFrame=!1,b._playerSawImage=!1,b.paginationComponent=null,b.solveCreditsComponent=null,b.timer=null,b.init=function(a,b,c){this.mainGame=c,this.gameName=a,console.log("G "+a),this.numberOfLevels=b;this.levelsOptions=new system[a+"LevelOptions"];const d=new createjs.Shape;d.graphics.beginFill("#000").drawRect(0,0,100,100),d.regX=50;let e=system.CustomMethods.makeImage("showFramesButton",!0);const f=this.framesBtn=new system.ImageButton(e);f.hitArea=d,f.x=51,f.y=410,f.on("click",()=>{system.CustomMethods.playSound("click"),this.board.showHideFrames()}),e=system.CustomMethods.makeImage("showImgButton",!0);const g=this.showImageBtn=new system.ImageButton(e);g.hitArea=d,g.x=51,g.y=200,g.on("click",()=>{this.onShowImageBtn()}),e=system.CustomMethods.makeImage("solveButton",!0);const h=this.solveBtn=new system.ImageButton(e);h.hitArea=d,h.x=51,h.y=600,h.on("click",()=>{system.CustomMethods.playSound("click"),this.solveCreditsComponent.numOfCredits--,this.solveCreditsComponent.updateCreditsTxt(),this.board.solvePuzzle()});const i=this.solveCreditsComponent=new system.SolveCreditsComponent(this);i.x=750,i.y=1030,e=system.CustomMethods.makeImage("backBtn",!0);const j=this.backBtn=new system.ImageButton(e);j.hitArea=d,j.x=51,j.y=800,j.on("click",()=>{this.onBackBtn()});const k=Math.ceil(this.numberOfLevels/6),l=this.paginationComponent=new system.PaginationComponent(k,this);l.x=900,l.y=7;const m=this.timer=new system.Timer;m.x=1820,m.y=36,this.addChild(f,h,g,j,m,l,i),this.addLevelsButtons(0,6),this.checkSolvedLevels(),this.showInGameButtons(!1),this.addBoard()},b.addBoard=function(){const a=this.board=new system.SliderBoard(this);this.addChild(a);const b=this.solvedImage=system.CustomMethods.makeImage("slider",!1);b.visible=!1,this.addChild(b);const c=this.solvedSticker=system.CustomMethods.makeImage("solved",!1);c.regX=c.image.width/2,c.regY=c.image.height/2,c.visible=!1,this.addChild(c)},b.hideBoard=function(){this.board.visible=this.solvedImage.visible=this.solvedSticker.visible=!1},b.loadLevel=function(){const a=this.levelsOptions.getOptionsForLevel(this.level);this.board.setBoard(a),this.centerBoard(),this.board.visible=!0,this.showInGameButtons(!0),this._puzzleIsLoaded=!0,system.CustomMethods.swapImages(this.solvedImage,this.board.mainImage,!1,!1),this.solvedImage.x=this.board.x,this.solvedImage.y=-this.solvedImage.image.height,this.solveBtn.enableClick(0<this.mainGame.player.solveCredits),this.timer.startTimer()},b.onBackBtn=function(){system.CustomMethods.playSound("click"),this._puzzleIsLoaded?(this.timer.stopTimer(),this.mainGame.player.updateTotalTimePlayed(this.timer.takeTime()),this.mainGame.updateTotalTimePlayedTxt(),this.mainGame.updateLocalStorage(),this.timer.reset(),this.board.removeFields(),this.hideBoard(),this.levelsBtns.visible=!0,this.showInGameButtons(!1),this._puzzleIsLoaded=!1,this._playerSawImage=!1,this._hasBoardFrame&&this.removeChildAt(0),this.solvedSticker.visible&&(this.solvedSticker.visible=!1),this.checkSolvedLevels()):this.parent.showMainGameComponents(!0)},b.checkSolvedLevels=function(){for(let a=0;a<this.levelsBtns.numChildren;a++){const b=this.levelsBtns.getChildAt(a),c=this.gameName.toLowerCase()+"PuzzleSolvedLevels";this.mainGame.player[c].hasOwnProperty(b.name)?(b.showSticker(!0),b.updateBestTimeTxt(system.CustomMethods.formatTime(this.mainGame.player[c][b.name]))):b.updateBestTimeTxt("")}},b.levelSolved=function(){system.CustomMethods.playSound("complete"),this.timer.stopTimer(),this.solveBtn.enableClick(!1),this.framesBtn.enableClick(!1),this.showSolvedAnimation(),this.levelsBtns.getChildByName(this.level).hasSticker||this.solveCreditsComponent.levelSolved(),this.mainGame.updatePlayer()},b.onShowImageBtn=function(){system.CustomMethods.playSound("click"),this.showImageBtn.enableClick(!1);const a=this.solvedImage.y===this.board.y?-this.solvedImage.image.height:this.board.y;this.solvedImage.visible=!0,createjs.Tween.get(this.solvedImage).to({y:a},500,createjs.Ease.getPowInOut(2)).call(()=>{this.solvedImage.visible=0<a,this.showImageBtn.visible=!this._playerSawImage,this.showImageBtn.enableClick(!0),this._playerSawImage=!0})},b.showInGameButtons=function(a){this.framesBtn.visible=this.solveBtn.visible=this.showImageBtn.visible=this.solveCreditsComponent.visible=a,this.paginationComponent.visible=!a},b.showSolvedAnimation=function(){this.solvedSticker.scaleX=this.solvedSticker.scaleY=1,this.solvedSticker.x=this.board.x+this.board.getBoardWidth(),this.solvedSticker.y=this.board.y,this.solvedSticker.visible=!0,createjs.Tween.get(this.solvedSticker).to({scaleX:.5,scaleY:.5},500,createjs.Ease.getPowIn(3))},b.centerBoard=function(){this.board.x=system.MainGame.GAME_WIDTH/2-this.board.getBoardWidth()/2,this.board.y=system.MainGame.GAME_HEIGHT/2-this.board.getBoardHeight()/2-10},b.resetLevelsButtons=function(a,b){this.refreshLevelsButtons(a,b)},system.AbstractPuzzleGame=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){};a.makeText=function(a,b,c,d,e){const f=new createjs.Text(a,b,c);return f.textAlign=d,f.textBaseline=e,f.mouseEnabled=!1,f.tickEnabled=!1,f},a.makeImage=function(a,b){const c=new createjs.Bitmap(queue.getResult(a));return c.mouseEnabled=b,c.tickEnabled=!1,c},a.swapImages=function(a,b,c,d){a.image=queue.getResult(b),!0===c&&(a.regX=a.image.width/2),!0===d&&(a.regY=a.image.height/2)},a.makeImageFromAtlas=function(a,b,c){const d=b.animations[c],e=b.frames[d],f=a.clone();return f.sourceRect=new createjs.Rectangle(e[0],e[1],e[2],e[3]),f},a.playSound=function(a,b,c){c=c||0,b=b||1,createjs.Sound.play(a,{loop:c,volume:b})},a.getLastChar=function(a){return a.charAt(a.length-1)},a.makeAnimation=function(a,b,c,d){const e=queue.getResult(a),f=e.width/b,g=e.height,h=new createjs.SpriteSheet({images:[e],frames:{regX:f/2,regY:g/2,width:f,height:g,count:b},animations:{animate:[0,b-1,d]},framerate:c}),i=new createjs.Sprite(h);return i.mouseEnabled=!1,i},a.getRandomNumberFromTo=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},a.getRandomBool=function(){return .5<Math.random()},a.shuffleArr=function(a){return a.sort(function(){return .5-Math.random()}),a},a.formatTime=function(a){let b=a,c=Math.floor(a/3600);b-=3600*c;let d=Math.floor(b/60);return b-=60*d,c=10>c?`0${c}`:c,d=10>d?`0${d}`:d,b=10>b?`0${b}`:b,`${c} : ${d} : ${b}`},system.CustomMethods=a}();this.system=this.system||{},function(){"use strict";const a=function(a,b){this.Container_constructor(),this.init(a,b)},b=createjs.extend(a,createjs.Container);b.scaleNum=1,b.hasSticker=!1,b._bestTimeTxt=null,b.stickerImg=null,b.init=function(a,b){const c=a;c.regX=c.image.width/2,b&&(c.scale=b,this.scaleNum=b),this.addChild(c)},b.getButtonWidth=function(){return this.getChildAt(0).image.width},b.getButtonHeight=function(){return this.getChildAt(0).image.height},b.addSticker=function(){const a=this.stickerImg=system.CustomMethods.makeImage("solved",!1);a.regX=a.image.width/2,a.regY=a.image.height/2,a.scale=this.scaleNum,a.x=this.getButtonWidth()*this.scaleNum/2,a.visible=!1,this.addChild(a),this.hasSticker=!1},b.addBestTime=function(){const a=this._bestTimeTxt=system.CustomMethods.makeText("","28px Russo One","white","center","alphabetic");a.y=this.getButtonHeight()*this.scaleNum+30,this.addChild(a)},b.showSticker=function(a){this.hasSticker=a,this.stickerImg.visible=a,!0===a&&(this.stickerImg.x=this.getButtonWidth()*this.scaleNum/2)},b.showBestTime=function(a){this._bestTimeTxt.visible=a},b.updateBestTimeTxt=function(a){this._bestTimeTxt.text=a},b.enableClick=function(a){this.mouseEnabled=a,this.alpha=!0===a?1:.6},system.ImageButton=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this.init()},b=createjs.extend(a,createjs.Container);b.game=null,b.player=null,b.background=null,b._playBtn=null,b._optionsBtn=null,b._options=null,b._sliderProgressionTxt=null,b._totalTimePlayedTxt=null,b._logo=null,a.GAME_WIDTH=0,a.GAME_HEIGHT=0,b.init=function(){a.GAME_WIDTH=1920,a.GAME_HEIGHT=1080;const b=this.background=system.CustomMethods.makeImage("background1",!1);this.addChild(b);const c=this._logo=system.CustomMethods.makeImage("logo",!1);c.x=a.GAME_WIDTH/2-c.image.width/2,c.y=50;const d=system.CustomMethods.makeImage("playButton",!0),e=this._playBtn=new system.ImageButton(d);e.x=a.GAME_WIDTH/2,e.y=400,e.addEventListener("click",()=>{this.showMainGameComponents(!1)});const f=system.CustomMethods.makeImage("optionsButton",!0),g=this._optionsBtn=new system.ImageButton(f);g.x=e.x,g.y=500,g.addEventListener("click",()=>{h.visible=!h.visible});const h=this._options=new system.Options(this.background);h.x=766,h.y=600;const i=this._sliderProgressionTxt=system.CustomMethods.makeText("","27px Russo One","white","center","alphabetic");i.x=e.x,i.y=950;const j=this._totalTimePlayedTxt=system.CustomMethods.makeText("","27px Russo One","white","center","alphabetic");j.x=e.x,j.y=1e3,this.addChild(c,e,g,i,j,h),this.setPlayerInfo(),this.addGame(18),this.showMainGameComponents(!0)},b.showMainGameComponents=function(a){this._options.visible=!1,this._logo.visible=this._playBtn.visible=this._optionsBtn.visible=this._sliderProgressionTxt.visible=this._totalTimePlayedTxt.visible=a,this.game.visible=!a},b.addGame=function(a){this.game=new system.SliderGame(a,this),this.addChild(this.game)},b.setPlayerInfo=function(){let a=JSON.parse(localStorage.getItem("sliderPlayerStats"));null===a&&(a={sliderPuzzleSolvedLevels:{},solveCredits:10,solveCreditsBarLevel:0,totalTimePlayed:0},localStorage.setItem("sliderPlayerStats",JSON.stringify(a))),console.log(a),this.player=new system.Player(a),this.updateProgressionTxt(),this.updateTotalTimePlayedTxt()},b.updatePlayer=function(){this.player.levelSolved(this.game.level,this.game.timer.takeTime()),this.player.updateSolveCredits(this.game.solveCreditsComponent.numOfCredits,this.game.solveCreditsComponent.barLevel),this.updateProgressionTxt(),this.updateTotalTimePlayedTxt(),this.updateLocalStorage()},b.updateLocalStorage=function(){const a={sliderPuzzleSolvedLevels:this.player.sliderPuzzleSolvedLevels,solveCredits:this.player.solveCredits,solveCreditsBarLevel:this.player.solveCreditsBarLevel,totalTimePlayed:this.player.totalTimePlayed};localStorage.setItem("sliderPlayerStats",JSON.stringify(a))},b.updateTotalTimePlayedTxt=function(){this._totalTimePlayedTxt.text="Total time played: "+system.CustomMethods.formatTime(this.player.totalTimePlayed)},b.updateProgressionTxt=function(){const a=Object.keys(this.player.sliderPuzzleSolvedLevels).length;this._sliderProgressionTxt.text="Progression: "+Math.round(100/18*a)+"%"},b.render=function(a){stage.update(a)},system.MainGame=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(a){this.Container_constructor(),this.initOptions(a)},b=createjs.extend(a,createjs.Container);b._selectedBackground="",b._backgroundButtons=null,b.initOptions=function(a){const b=system.CustomMethods.makeImage("optionsBackground",!1);this._backgroundButtons=[];const c=system.CustomMethods.makeText("Backgrounds","27px Russo One","white","center","alphabetic");c.x=194,c.y=40,this.addChild(b,c);for(let b=1;6>b;b++){const c="b"+b,d=system.CustomMethods.makeImage(c,!0);d.x=-42+70*b,d.y=60,d.name="background"+b,d.addEventListener("click",()=>{this.changeBackground(a,d)}),this.addChild(d),this._backgroundButtons.push(d)}this.changeBackground(a,this._backgroundButtons[0]);const d=system.CustomMethods.makeText("Sound","27px Russo One","white","center","alphabetic");d.x=194,d.y=160;const e=system.CustomMethods.makeImage("soundOn",!0);e.x=110,e.y=180,e.addEventListener("click",()=>{this.muteSound(!1,f),e.alpha=1});const f=system.CustomMethods.makeImage("soundOff",!0);f.x=210,f.y=180,f.addEventListener("click",()=>{this.muteSound(!0,e),f.alpha=1}),f.alpha=.5,this.addChild(d,e,f)},b.muteSound=function(a,b){createjs.Sound.muted===a||(b.alpha=.5,createjs.Sound.muted=a)},b.changeBackground=function(a,b){b.name===this._selectedBackground||(system.CustomMethods.swapImages(a,b.name,!1,!1),this._backgroundButtons.forEach(a=>{a.alpha=.5}),b.alpha=1,this._selectedBackground=b.name)},system.Options=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(a,b){this.Container_constructor(),this.init(a,b)},b=createjs.extend(a,createjs.Container);b.game=null,b.leftButton=null,b.rightButton=null,b.currentPage=null,b.currentPageTxt=null,b.numOfPages=null,b.init=function(a,b){this.game=b,this.numOfPages=a,this.currentPage=1;const c=system.CustomMethods.makeImage("paginationBack",!1),d=this.currentPageTxt=system.CustomMethods.makeText(this.currentPage,"31px Russo One","#fdfdff","center","middle");d.x=107,d.y=40;const e=system.CustomMethods.makeImage("leftBtn",!0),f=this.leftButton=new system.ImageButton(e),g=new createjs.Shape;g.graphics.beginFill("#000").drawRect(0,0,100,100),g.regX=50,f.hitArea=g,f.on("click",()=>{this.onLeftBtn()}),f.x=39,f.y=-10;const h=system.CustomMethods.makeImage("rightBtn",!0),i=this.rightButton=new system.ImageButton(h);i.hitArea=g,i.on("click",()=>{this.onRightBtn()}),i.x=174,i.y=-10,this.addChild(c,d,f,i),1===a&&i.enableClick(!1),f.enableClick(!1)},b.onLeftBtn=function(){1<this.currentPage&&(this.currentPage--,this.updateComponents())},b.onRightBtn=function(){this.currentPage<this.numOfPages&&(this.currentPage++,this.updateComponents())},b.updateComponents=function(){const a=1<this.currentPage,b=this.currentPage<this.numOfPages;this.leftButton.enableClick(a),this.rightButton.enableClick(b),this.currentPageTxt.text=this.currentPage;const c=6*(this.currentPage-1);this.game.resetLevelsButtons(c,c+6)},system.PaginationComponent=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(a){this.init(a)},b=a.prototype;b.sliderPuzzleSolvedLevels=null,b.solveCredits=null,b.solveCreditsBarLevel=null,b.totalTimePlayed=null,b.init=function(a){console.log("init player with stats "+a.sliderPuzzleSolvedLevels),this.sliderPuzzleSolvedLevels=a.sliderPuzzleSolvedLevels,this.solveCredits=a.solveCredits,this.solveCreditsBarLevel=a.solveCreditsBarLevel,this.totalTimePlayed=a.totalTimePlayed},b.levelSolved=function(a,b){this.sliderPuzzleSolvedLevels.hasOwnProperty(a)?this.sliderPuzzleSolvedLevels[a]>b&&(this.sliderPuzzleSolvedLevels[a]=b):this.sliderPuzzleSolvedLevels[a]=b},b.updateTotalTimePlayed=function(a){this.totalTimePlayed+=a},b.updateSolveCredits=function(a,b){this.solveCredits=a,this.solveCreditsBarLevel=b},system.Player=a}();this.system=this.system||{},function(){"use strict";const a=function(a,b,c,d){this.Container_constructor(),this.init(a,b,c,d)},b=createjs.extend(a,createjs.Container);b.init=function(a,b,c,d){const e=new createjs.Shape(new createjs.Graphics().beginFill(d).drawRoundRect(0,0,a,b,c));e.regX=a/2,e.regy=b/2,this.addChild(e)},b.addText=function(a,b,c,d,e){const f=system.CustomMethods.makeText(a,b,c,"center","alphabetic");d&&(f.x=d),e&&(f.y=e),this.addChild(f)},b.doClickAnimation=function(){createjs.Tween.get(this).to({scaleX:.8,scaleY:.8},80).to({scaleX:1,scaleY:1},80)},b.enableClick=function(a){this.mouseEnabled=a,this.alpha=!0===a?1:.6},system.ShapeButton=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(a,b){this.AbstractPuzzleBoard_constructor(a,b),this.initBoard()},b=createjs.extend(a,system.AbstractPuzzleBoard);let c;b.initBoard=function(){c=this},b.generateFields=function(){let a,b;for(let c=0;c<this.rows;c++){b=c*this.fieldHeight;for(let d=0;d<this.columns;d++){a=d*this.fieldWidth;const e="n"+c+d,f=new system.SliderField(this.mainImage,a,b,this.fieldWidth,this.fieldHeight);f.name=e,this.addChild(f)}}a=this.getBoardWidth(),b=this.getBoardHeight()-this.fieldHeight;const c=new system.SliderField(this.mainImage,a,b,this.fieldWidth,this.fieldHeight);c.alpha=.01,c.name="fakeField",c.mouseEnabled=!1,this.addChild(c)},b.rearrangeFields=function(){for(let a=0;100>a;a++)this.checkForNormalField();this.game.framesBtn.enableClick(!0)},b.checkForNormalField=function(){function a(){const f=Math.round(Math.random()*(e.length-1)),g=e[f];e.splice(f,1);for(let a=0;a<b.numChildren-1;a++){const e=b.getChildAt(a);e.currentPos.xPos===g.x&&e.currentPos.yPos===g.y&&(e.x=d.currentPos.xPos,e.y=d.currentPos.yPos,d.x=e.currentPos.xPos,d.y=e.currentPos.yPos,e.setCurrentPos(e.x,e.y),d.setCurrentPos(d.x,d.y),c=!0)}c||a()}const b=this;let c=!1;const d=this.getChildByName("fakeField"),e=[{x:d.currentPos.xPos-this.fieldWidth,y:d.currentPos.yPos},{x:d.currentPos.xPos+this.fieldWidth,y:d.currentPos.yPos},{x:d.currentPos.xPos,y:d.currentPos.yPos-this.fieldHeight},{x:d.currentPos.xPos,y:d.currentPos.yPos+this.fieldHeight}];a()},b.onChoose=function(a){system.CustomMethods.playSound("switch");const b=a.target.parent.name,d=c.getChildByName(b);c.checkForFakeField(d)},b.checkForFakeField=function(a){const b=a.currentPos.xPos-this.fieldWidth,c=a.currentPos.xPos+this.fieldWidth,d=a.currentPos.yPos-this.fieldHeight,e=a.currentPos.yPos+this.fieldHeight;let f=!1,g=this.getChildAt(this.numChildren-1);g.x===b&&g.y===a.y?f=!0:g.x===c&&g.y===a.y?f=!0:g.x===a.x&&g.y===d?f=!0:g.x===a.x&&g.y===e&&(f=!0),f&&this.rotateFields(a,g)},b.rotateFields=function(a,b){this.enableMouse(!1),this.doAnimation(a,b.x,b.y),this.doAnimation(b,a.x,a.y)},b.doAnimation=function(a,b,d){createjs.Tween.get(a).to({x:b,y:d},200,createjs.Ease.getPowInOut(2)).call(function(){c.actionAfterAnimation(a,b,d)})},b.actionAfterAnimation=function(a,b,d){a.setCurrentPos(b,d),c.animationsCounter++,2===c.animationsCounter&&(c.selectedField=null,c.animationsCounter=0,c.checkBoard())},b.doSolveAnimation=function(a){createjs.Tween.get(a).to({x:a.correctPos.xPos,y:a.correctPos.yPos},600).call(function(){c.animationsCounter++,a.setCurrentPos(a.x,a.y),c.animationsCounter===c.numChildren&&(c.animationsCounter=0,c.checkBoard())})},system.SliderBoard=createjs.promote(a,"AbstractPuzzleBoard")}();this.system=this.system||{},function(){"use strict";const a=function(a,b,c,d,e){this.AbstractPuzzleField_constructor(),this.initSliderField(a,b,c,d,e)},b=createjs.extend(a,system.AbstractPuzzleField);b.currentPos=null,b.correctPos=null,b.initSliderField=function(a,b,c,d,e){const f=new createjs.Bitmap(queue.getResult(a));f.sourceRect=new createjs.Rectangle(b,c,d,e),f.width=f.sourceRect.width,f.height=f.sourceRect.height,f.regX=d/2,f.regY=e/2,this.x=b+d/2,this.y=c+e/2,this.correctPos={xPos:this.x,yPos:this.y},this.currentPos={xPos:this.x,yPos:this.y};const g=new createjs.Shape(new createjs.Graphics().setStrokeStyle(2).beginStroke("#73d0fc").drawRect(0,0,f.width,f.height));g.regX=f.regX,g.regY=f.regY,this.addChild(f,g)},b.setCurrentPos=function(a,b){this.currentPos.xPos=a,this.currentPos.yPos=b},b.checkPos=function(){let a=!1;return this.currentPos.xPos===this.correctPos.xPos&&this.currentPos.yPos===this.correctPos.yPos&&(a=!0),a},system.SliderField=createjs.promote(a,"AbstractPuzzleField")}();this.system=this.system||{},function(){"use strict";const a=function(a,b){this.AbstractPuzzleGame_constructor("Slider",a,b),this.initGame()},b=createjs.extend(a,system.AbstractPuzzleGame);b.initGame=function(){this._hasBoardFrame=!0},b._superLoadLevel=b.loadLevel,b.loadLevel=function(a){this._superLoadLevel(a),this.addBoardFrame()},b.addBoardFrame=function(){const a=this.board.x-10,b=this.board.y-10,c=a+this.board.getBoardWidth()+20,d=b+this.board.getBoardHeight()+20,e=new createjs.Shape;e.graphics.setStrokeStyle(10),e.graphics.beginStroke("white"),e.graphics.moveTo(a,b),e.graphics.lineTo(c,b),e.graphics.lineTo(c,b+this.board.fieldHeight*(this.board.rows-1)),e.graphics.lineTo(c+this.board.fieldWidth,b+this.board.fieldHeight*(this.board.rows-1)),e.graphics.lineTo(c+this.board.fieldWidth,d),e.graphics.lineTo(a,d),e.graphics.lineTo(a,b-5),e.graphics.endStroke(),this.addChildAt(e,0)},b.addLevelsButtons=function(a,b){console.log("adding buttons");const c=this.levelsBtns=new createjs.Container;for(let d=a;d<b;d++){const b=d+1,e=system.CustomMethods.makeImage(this.levelsOptions.options["level"+b].mainImage,!0),f=new system.ImageButton(e,.3),g=a+3;d>=g?(f.x=600*(d-g),f.y=400):f.x=600*(d-a),f.name=b,f.addSticker(),f.addBestTime(),c.addChild(f)}c.on("click",a=>{this.level=a.target.parent.name,this.loadLevel(this.gameName),this.levelsBtns.visible=!1}),c.x=400,c.y=200,this.addChild(c)},b.refreshLevelsButtons=function(a,b){const c=this.mainGame.player.sliderPuzzleSolvedLevels;let d=0;for(let e=a;e<b;e++){const a=e+1,b=this.levelsBtns.getChildAt(d),f=this.levelsOptions.options["level"+a].mainImage;system.CustomMethods.swapImages(b.getChildAt(0),f,!0,!1),b.name=a,c.hasOwnProperty(a)?(b.showSticker(!0),b.updateBestTimeTxt(system.CustomMethods.formatTime(c[a]))):(b.showSticker(!1),b.updateBestTimeTxt("")),d++}},system.SliderGame=createjs.promote(a,"AbstractPuzzleGame")}();this.system=this.system||{},function(){"use strict";const a=function(){this.init()},b=a.prototype;b.options=null,b.init=function(){this.options={level1:{rows:3,columns:3,fieldWidth:300,fieldHeight:300,mainImage:"slider"},level2:{rows:3,columns:3,fieldWidth:300,fieldHeight:300,mainImage:"slider2"},level3:{rows:3,columns:3,fieldWidth:300,fieldHeight:300,mainImage:"slider3"},level4:{rows:3,columns:3,fieldWidth:300,fieldHeight:300,mainImage:"slider4"},level5:{rows:3,columns:3,fieldWidth:300,fieldHeight:300,mainImage:"slider5"},level6:{rows:3,columns:3,fieldWidth:300,fieldHeight:300,mainImage:"slider6"},level7:{rows:4,columns:3,fieldWidth:225,fieldHeight:225,mainImage:"slider7"},level8:{rows:4,columns:3,fieldWidth:225,fieldHeight:225,mainImage:"slider8"},level9:{rows:4,columns:3,fieldWidth:225,fieldHeight:225,mainImage:"slider9"},level10:{rows:4,columns:3,fieldWidth:225,fieldHeight:225,mainImage:"slider10"},level11:{rows:4,columns:3,fieldWidth:225,fieldHeight:225,mainImage:"slider11"},level12:{rows:4,columns:3,fieldWidth:225,fieldHeight:225,mainImage:"slider12"},level13:{rows:4,columns:4,fieldWidth:225,fieldHeight:225,mainImage:"slider13"},level14:{rows:4,columns:4,fieldWidth:225,fieldHeight:225,mainImage:"slider14"},level15:{rows:4,columns:4,fieldWidth:225,fieldHeight:225,mainImage:"slider15"},level16:{rows:4,columns:4,fieldWidth:225,fieldHeight:225,mainImage:"slider16"},level17:{rows:4,columns:4,fieldWidth:225,fieldHeight:225,mainImage:"slider17"},level18:{rows:4,columns:4,fieldWidth:225,fieldHeight:225,mainImage:"slider18"}}},b.getOptionsForLevel=function(a){return this.options["level"+a]},system.SliderLevelOptions=a}();this.system=this.system||{},function(){"use strict";const a=function(a){this.Container_constructor(),this.init(a)},b=createjs.extend(a,createjs.Container);b.game=null,b.bar=null,b.barLevel=null,b.numOfCredits=null,b.creditsTxt=null,b.init=function(a){this.game=a,this.numOfCredits=this.game.mainGame.player.solveCredits,this.barLevel=this.game.mainGame.player.solveCreditsBarLevel;const b=new createjs.Shape(new createjs.Graphics().setStrokeStyle(4).beginStroke("#8d3bff").drawRoundRect(0,0,402,40,6));b.mouseEnabled=!1,b.snapToPixel=!0;const c=this.bar=new createjs.Shape(new createjs.Graphics().beginFill("#7dc1ff").drawRoundRect(0,0,387,27,6));c.x=7,c.y=7,c.snapToPixel=!0,c.mouseEnabled=!1,c.scaleX=.25*this.barLevel;const d=this.creditsTxt=system.CustomMethods.makeText("X "+this.numOfCredits,"31px Russo One","#ffe2e9","center","alphabetic");d.x=440,d.y=31;const e=system.CustomMethods.makeText("solve button credits","27px Russo One","#8d3bff","center","alphabetic");e.x=201,e.y=30,this.addChild(b,c,d,e),this.cache(-6,-6,500,52)},b.levelSolved=function(){this.uncache(),this.barLevel++,4===this.barLevel?(this.numOfCredits++,this.updateCreditsTxt(),this.updateBar(),this.barLevel=0):this.updateBar()},b.updateCreditsTxt=function(){this.creditsTxt.text="X "+this.numOfCredits},b.updateBar=function(){const a=.25*this.barLevel;createjs.Tween.get(this.bar).to({scaleX:a},300).call(()=>{1==a?createjs.Tween.get(this.bar).to({scaleX:0},300).call(()=>{this.cache(-6,-6,500,52)}):this.cache(-6,-6,500,52)})},system.SolveCreditsComponent=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this.initTimer()},b=createjs.extend(a,createjs.Container);b._seconds=0,b._minutes=0,b._timerTxt="",b._interval=null,b.initTimer=function(){const a=this._timerTxt=system.CustomMethods.makeText("00:00","32px Russo One","white","center","alphabetic");this.addChild(a),this.show(!1)},b.startTimer=function(){this.show(!0);let a="",b="";this._interval=setInterval(()=>{this._seconds++,59<this._seconds&&(this._seconds=0,this._minutes++),a=10>this._minutes?"0"+this._minutes:""+this._minutes,b=10>this._seconds?"0"+this._seconds:""+this._seconds,this._timerTxt.text=a+":"+b},1e3)},b.stopTimer=function(){this._interval&&(console.log("clear interval"),clearInterval(this._interval),this._interval=null,this.show(!1))},b.takeTime=function(){return this._seconds+60*this._minutes},b.reset=function(){this._seconds=0,this._minutes=0,this._timerTxt.text="00:00"},b.show=function(a){this.visible=a},system.Timer=createjs.promote(a,"Container")}();